{"ast":null,"code":"import _slicedToArray from\"/Users/pramodgobburi/Desktop/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Spinner from\"../components/Spinner\";import IndexNavbar from\"components/Navbars/IndexNavbar.js\";import PageHeader from\"components/PageHeader/PageHeader.js\";import Education from\"./Education\";import Experience from\"./Experience\";import Skills from\"./Skills\";import jsonData from\"../data.json\";const Index=props=>{const _useState=useState(jsonData),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];const _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];function fetchLiveData(){setLoading(true);fetch('https://pramod-portfolio.deno.dev').then(response=>response.json()).then(d=>setData(d)).catch(err=>console.log(err)).finally(()=>setLoading(false));}useEffect(()=>{document.body.classList.toggle(\"index-page\");fetchLiveData();return()=>{document.body.classList.toggle(\"index-page\");};},[]);useEffect(()=>{var totalHash=window.location.hash.split('/');if(totalHash.length>1&&totalHash[1]!==\"\"){const scrollToAnchor=()=>{const hashParts=totalHash[1].split('#');if(hashParts.length>=2){const hash=hashParts.slice(-1)[0];var element=document.getElementById(\"\".concat(hash));var headerOffset=100;var elementPosition=element.getBoundingClientRect().top+window.pageYOffset;var offsetPosition=elementPosition-headerOffset;window.scrollTo({top:offsetPosition,behavior:'smooth'});}else{window.scrollTo({top:0,behavior:'smooth'});}};scrollToAnchor();}else{window.scrollTo({top:0,behavior:'smooth'});}});if(loading){return/*#__PURE__*/React.createElement(Spinner,null);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IndexNavbar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(PageHeader,{data:data}),/*#__PURE__*/React.createElement(\"div\",{className:\"main\"},/*#__PURE__*/React.createElement(\"section\",{id:\"experience\"},/*#__PURE__*/React.createElement(Experience,{id:\"experience\",data:data})),/*#__PURE__*/React.createElement(\"section\",{id:\"education\"},/*#__PURE__*/React.createElement(Education,{id:\"education\",data:data})),/*#__PURE__*/React.createElement(\"section\",{id:\"skills\"},/*#__PURE__*/React.createElement(Skills,{id:\"skills\",data:data})))));};export default Index;","map":{"version":3,"sources":["/Users/pramodgobburi/Desktop/portfolio/src/views/Index.js"],"names":["React","useEffect","useState","Spinner","IndexNavbar","PageHeader","Education","Experience","Skills","jsonData","Index","props","data","setData","loading","setLoading","fetchLiveData","fetch","then","response","json","d","catch","err","console","log","finally","document","body","classList","toggle","totalHash","window","location","hash","split","length","scrollToAnchor","hashParts","slice","element","getElementById","headerOffset","elementPosition","getBoundingClientRect","top","pageYOffset","offsetPosition","scrollTo","behavior"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport Spinner from \"../components/Spinner\";\nimport IndexNavbar from \"components/Navbars/IndexNavbar.js\";\nimport PageHeader from \"components/PageHeader/PageHeader.js\";\n\nimport Education from \"./Education\";\nimport Experience from \"./Experience\";\nimport Skills from \"./Skills\";\nimport jsonData from \"../data.json\";\n\nconst Index = props => {\n\n  const [data, setData] = useState(jsonData);\n  const [loading, setLoading] = useState(false);\n\n  function fetchLiveData() {\n    setLoading(true);\n    fetch('https://pramod-portfolio.deno.dev')\n        .then(response => response.json())\n        .then(d => setData(d))\n        .catch(err => console.log(err))\n        .finally(() => setLoading(false));\n  }\n\n  useEffect(() => {\n    document.body.classList.toggle(\"index-page\");\n    fetchLiveData();\n    return () => {\n      document.body.classList.toggle(\"index-page\");\n    }\n  },[]);\n\n  useEffect(() => {\n    var totalHash = window.location.hash.split('/');\n    if(totalHash.length > 1 && totalHash[1] !== \"\") {\n      const scrollToAnchor = () => {\n        const hashParts = totalHash[1].split('#');\n        if (hashParts.length >= 2) {\n          const hash = hashParts.slice(-1)[0];\n          var element = document.getElementById(`${hash}`);\n          var headerOffset = 100;\n          var elementPosition = element.getBoundingClientRect().top + window.pageYOffset;\n          var offsetPosition = elementPosition - headerOffset;\n          \n          window.scrollTo({\n            top: offsetPosition,\n            behavior: 'smooth'\n          });\n        } else {\n          window.scrollTo({\n            top: 0,\n            behavior: 'smooth'\n          });\n        }\n      };\n      scrollToAnchor();\n    } else {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    }\n  });\n  \n\n  if (loading) {\n    return <Spinner />\n  }\n\n  return (\n    <>\n      <IndexNavbar />\n      <div className=\"wrapper\">\n        <PageHeader data={data} />\n        <div className=\"main\">\n          <section id=\"experience\">\n            <Experience id=\"experience\" data={data} />\n          </section>\n          <section id=\"education\">\n            <Education id=\"education\" data={data} />\n          </section>\n          <section id=\"skills\">\n            <Skills id=\"skills\" data={data} />\n          </section>\n        </div>\n        {/* <Footer /> */}\n      </div>\n    </>\n  );\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}